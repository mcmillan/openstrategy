<div class="post-detail">
  <% if post.try(:title) %>
    <div class="post-detail__title"><%= post.title %></div>
  <% end %>

  <% if post.body? %>
    <div class="post-content" style="margin-left: <%= [(defined?(depth) ? depth : 0), 5].min * 50 %>px;">
      <div class="post-user">
        <%= name(post.user) %>

        <div class="post-user__image">
          <%= image_tag post.user.image %>
        </div>
      </div>

      <div class="post-body">
        <div class="post-body__text">
          <%= post.body %>
        </div>

        <div class="post-actions">
          <div class="post-actions__timestamp">
            <%= time_ago_in_words(post.created_at) %> ago
          </div>

          <div class="post-actions__links">
            <%= link_to 'Reply', reply_path(post), class: 'button button--dark button--slim' %>
          </div>
        </div>
      </div>
    </div>
  <% else %>
    <div>
      Submitted <%= time_ago_in_words(post.created_at) %> ago by <%= name(post.user) %>
    </div>
  <% end %>
</div>
